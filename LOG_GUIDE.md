# Understanding Your p2pool-go-vtc Logs

This guide provides a comprehensive overview of the log messages generated by your `p2pool-go-vtc` node. Understanding these logs will help you monitor the health of your node and troubleshoot any potential issues.

---

## Log Levels & Color Scheme

The logs use a color-coded system to indicate the importance of each message.

* <font color="green">**`[SUCCESS]`**</font>: Green - Indicates a successful, positive event, like finding a block.
* <font color="white">**`[INFO]`**</font>: White - General informational messages about normal operations.
* <font color="magenta">**`[NOTICE]`**</font>: Magenta - Important, but not problematic, events like sending a new job to a miner.
* <font color="yellow">**`[WARN]`**</font>: Yellow - A potential issue or a non-critical error, like an orphaned share.
* <font color="red">**`[ERROR]`**</font>: Red - A critical error that requires attention.
* <font color="cyan">**`[DEBUG]`**</font>: Cyan - Detailed, verbose information for deep troubleshooting.

---

## Setting the Log Level

You can control the verbosity of the logs in two ways:

1.  **In `config.yaml`**: Set the `loglevel` property to one of the following values: `"error"`, `"warn"`, `"info"`, or `"debug"`.

    ```yaml
    # config.yaml
    loglevel: "info"
    ```

2.  **Via Command-Line Flag**: You can use the `-loglevel` flag when starting the node. **This will override the value in your `config.yaml` file.** This is useful for temporarily enabling more detailed logging without editing your configuration.

    ```bash
    # Example: Start the node with debug logging
    go run . -loglevel debug
    ```

---

## Log Message Guide

### Main Package (Startup and Shutdown)

* <font color="white">**`[INFO]`**</font> `Starting p2pool-go v%s...`
    * **Meaning**: The node is starting up. The version number is displayed.
* <font color="white">**`[INFO]`**</font> `Loading configuration from %s...`
    * **Meaning**: The node is loading its configuration from the specified file.
* <font color="white">**`[INFO]`**</font> `MAIN: Startup complete â€“ Stratum + Web UI on :%d. Press Ctrl+C to exit.`
    * **Meaning**: The node has successfully started and is ready to accept connections from miners and web browsers.
* <font color="white">**`[INFO]`**</font> `MAIN: Graceful shutdown initiated.`
    * **Meaning**: The user has pressed Ctrl+C, and the node is beginning its shutdown sequence.
* <font color="white">**`[INFO]`**</font> `MAIN: Shutdown complete.`
    * **Meaning**: The node has successfully shut down all its components.

### Stratum Server (Miner Connections)

* <font color="white">**`[INFO]`**</font> `Stratum: Listening for miners on %s`
    * **Meaning**: The Stratum server has started and is listening for incoming connections from mining software.
* <font color="white">**`[INFO]`**</font> `Stratum: New miner connection from %s (ID: %d)`
    * **Meaning**: A new miner has connected to your node.
* <font color="white">**`[INFO]`**</font> `Stratum: Disconnected miner %s`
    * **Meaning**: A miner has disconnected from your node.
* <font color="white">**`[INFO]`**</font> `Stratum: Received mining.subscribe from %s`
    * **Meaning**: A miner has sent the initial "subscribe" message to start receiving jobs.
* <font color="green">**`[SUCCESS]`**</font> `Stratum: SHARE ACCEPTED from %s`
    * **Meaning**: A share submitted by a miner was valid and accepted by your node. This is the most basic confirmation that your miner is working correctly.
* <font color="yellow">**`[WARN]`**</font> `Stratum: REJECTED SHARE from %s`
    * **Meaning**: A share submitted by a miner was invalid and rejected. This can happen if the share is stale, a duplicate, or malformed.
* <font color="white">**`[INFO]`**</font> `Stratum: Difficulty set to %f for %s`
    * **Meaning**: The node has set a new difficulty for a specific miner based on its hashrate.
* <font color="magenta">**`[NOTICE]`**</font> `Stratum: Sent job %s to worker %s`
    * **Meaning**: A new mining job has been sent to a specific worker.

### Peer-to-Peer (P2P) Network

* <font color="white">**`[INFO]`**</font> `P2P: Listening for incoming peers on port :%d`
    * **Meaning**: The P2P server is running and ready to accept connections from other p2pool nodes.
* <font color="white">**`[INFO]`**</font> `Handshake successful with %s! Peer is on protocol version %d`
    * **Meaning**: Your node has successfully connected and "shaken hands" with another p2pool node.
* <font color="yellow">**`[WARN]`**</font> `P2P: Handshake failed with %s: %v`
    * **Meaning**: An attempt to connect to another peer failed. The reason for the failure is provided.
* <font color="white">**`[INFO]`**</font> `Received addrs message from %s. Discovering %d new potential peers.`
    * **Meaning**: A peer has sent you a list of other nodes it knows about, helping you expand your network connections.
* <font color="cyan">**`[DEBUG]`**</font> `Trying OUTGOING connection to peer %s`
    * **Meaning**: Your node is initiating a connection to another peer.
* <font color="cyan">**`[DEBUG]`**</font> `Sending version message to %s`
    * **Meaning**: Your node is sending its version information to a peer as part of the handshake process.
* <font color="cyan">**`[DEBUG]`**</font> `Received version message from %s (v: %d, sub: %s)`
    * **Meaning**: Your node has received a version message from a peer, showing its protocol version and sub-version string.
* <font color="cyan">**`[DEBUG]`**</font> `Broadcasting '%s' message to %d peers`
    * **Meaning**: Your node is sending a message (like a new share or block) to its connected peers.

### Sharechain

* <font color="cyan">**`[DEBUG]`**</font> `SHARECHAIN/LOAD: Opening shares.dat...`
    * **Meaning**: The node is attempting to load the existing sharechain data from disk.
* <font color="cyan">**`[DEBUG]`**</font> `SHARECHAIN/LOAD: shares.dat not found, starting with empty chain.`
    * **Meaning**: No previous sharechain data was found, so the node is starting fresh.
* <font color="cyan">**`[DEBUG]`**</font> `SHARECHAIN/AddShares: Attempting to add %d new shares.`
    * **Meaning**: The node is beginning the process of adding new shares to its chain.
* <font color="white">**`[INFO]`**</font> `SHARECHAIN/Resolve: Found parent %s for orphan %s. Linking now.`
    * **Meaning**: An orphan share's missing parent has been found, and the orphan is being correctly added to the sharechain. This is the normal resolution for an orphan.
* <font color="white">**`[INFO]`**</font> `SHARECHAIN/Resolve: Share %s is the new tip. New Tip Height: %d.`
    * **Meaning**: A new share has been added to the top of the sharechain.
* <font color="yellow">**`[WARN]`**</font> `SHARECHAIN/AddShares: Discarding INVALID share %s.`
    * **Meaning**: A share received from a peer was found to be invalid and was discarded.
* <font color="yellow">**`[WARN]`**</font> `SHARECHAIN/Resolve: Purging stale orphan %s after %d checks.`
    * **Meaning**: An orphan share's parent could not be found after multiple attempts, so the orphan is being removed to save memory.

### Block Handling

* <font color="white">**`[INFO]`**</font> `New block template received for height %d`
    * **Meaning**: Your node has received a new block template from the main Vertcoin daemon, which it will use to create new jobs for your miners.
* <font color="green">**`[SUCCESS]`**</font> `!!!! BLOCK FOUND !!!! Share %s is a valid block!`
    * **Meaning**: A share met the difficulty target of the main Vertcoin network.
* <font color="white">**`[INFO]`**</font> `Submitting block %s to the network...`
    * **Meaning**: Your node is broadcasting the newly found block to the Vertcoin network.
* <font color="green">**`[SUCCESS]`**</font> `SUCCESS! Block %s accepted by the network! Awaiting maturity.`
    * **Meaning**: The Vertcoin network has accepted your block.
* <font color="yellow">**`[WARN]`**</font> `Block %s appears orphaned (not found), will not check again.`
    * **Meaning**: A previously found block is no longer part of the main blockchain (it was on a fork). This is normal and the node will stop tracking it.

